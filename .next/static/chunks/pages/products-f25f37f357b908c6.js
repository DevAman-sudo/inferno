(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{4819:function(e,s,a){let t=a(7294),r=t.forwardRef(function({title:e,titleId:s,...a},r){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":s},a),e?t.createElement("title",{id:s},e):null,t.createElement("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"}))});e.exports=r},3308:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return a(5429)}])},2049:function(e,s,a){"use strict";var t=a(5893);a(7294);let r=()=>(0,t.jsx)("div",{className:"fixed top-0 left-0 w-screen h-screen z-20",children:(0,t.jsxs)("div",{className:"flex md:flex-row flex-xol flex-wrap justify-center items-center bg-white h-screen sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"w-full sm:w-80 bg-white rounded-md shadow-xl m-3",children:[(0,t.jsx)("div",{className:"h-44 bg-gray-300 rounded-t-md animate-pulse"}),(0,t.jsxs)("div",{className:"p-5",children:[(0,t.jsx)("div",{className:"h-6 rounded-sm bg-gray-200 duration-75 animate-pulse mb-4"}),(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-1 mt-2 w-1/2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 w-1/3 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 w-2/3 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-2 rounded-sm bg-gray-300"})]})]})]}),(0,t.jsxs)("div",{className:"",children:[(0,t.jsxs)("div",{className:"flex w-screen md:w-full sm:w-96 bg-white rounded-md shadow-xl",children:[(0,t.jsx)("div",{className:"w-1/3 bg-gray-300 rounded-l-md animate-pulse"}),(0,t.jsxs)("div",{className:"p-5 w-3/4",children:[(0,t.jsx)("div",{className:"h-6 rounded-sm bg-gray-200 duration-75 animate-pulse mb-4"}),(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-1 mt-2 w-1/3 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 w-2/3 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-2 rounded-sm bg-gray-300"})]})]})]}),(0,t.jsxs)("div",{className:"flex w-screen md:w-full sm:w-96 bg-white rounded-md shadow-xl",children:[(0,t.jsx)("div",{className:"w-1/3 bg-gray-300 rounded-l-md animate-pulse"}),(0,t.jsxs)("div",{className:"p-5 w-3/4",children:[(0,t.jsx)("div",{className:"h-6 rounded-sm bg-gray-200 duration-75 animate-pulse mb-4"}),(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-1 mt-2 w-1/3 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 w-2/3 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-2 rounded-sm bg-gray-300"})]})]})]})]})]})});s.Z=r},5429:function(e,s,a){"use strict";a.r(s);var t=a(5893),r=a(7294),l=a(4463),i=a(2049),d=a(6154),n=a(1163),c=a.n(n),o=a(4819),m=a(2782);let x=()=>{let e=(0,n.useRouter)(),s=(0,r.useContext)(m.Z),[a,x]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!0),[g,p]=(0,r.useState)(!1),[j,w]=(0,r.useState)([]),[y,f]=(0,r.useState)([]),[N,v]=(0,r.useState)(""),[b,k]=(0,r.useState)(!1),[C,S]=(0,r.useState)([]),[_,E]=(0,r.useState)(1),[z,L]=(0,r.useState)(10),[T,F]=(0,r.useState)(""),Z=async()=>{x(!0);try{let e=await d.Z.get("/api/admin/products",{params:{page:_,limit:z}});return x(!1),w(e.data),f(e.data),e}catch(e){x(!1),v("Internet connection not Stable. "),k(!0)}setTimeout(()=>{k(!1)},3e3)};(0,r.useEffect)(()=>{Z()},[]);let P=async()=>{try{let e=await d.Z.get("/api/admin/category");S(e.data)}catch(e){v("Internet Connection not Stable"),k(!0),setTimeout(()=>{k(!0)},3e3)}};(0,r.useEffect)(()=>{P()},[]);let R=async e=>{E(1);try{let s=await Z(),a=await s.data.filter(s=>s.category.toLowerCase()==e.toLowerCase());console.log(a),console.log(s.data),w(a)}catch(e){x(!1),v("Internet connection not stable."),k(!0)}setTimeout(()=>{k(!1)},3e3)},I=async e=>{try{c().push("/products/details?ids=".concat(e))}catch(e){x(!1),v("Something went Wrong. "),k(!0)}setTimeout(()=>{k(!1)},3e3)},{category:M}=e.query;(0,r.useEffect)(()=>{M&&R(M)},[M]);let q=async()=>{try{let e=await d.Z.get("/api/admin/products"),s=e.data.slice(-10).reverse();w(s),p(!1)}catch(e){console.error("Failed to get newest products:",e)}},A=async()=>{try{let e=await d.Z.get("/api/admin/products"),s=e.data.sort((e,s)=>e.price-s.price);w(s),p(!1)}catch(e){console.error("Failed to get newest products:",e)}},H=async()=>{try{let e=await d.Z.get("/api/admin/products"),s=e.data.sort((e,s)=>s.price-e.price);w(s),p(!1)}catch(e){console.error("Failed to get newest products:",e)}};return(0,r.useEffect)(()=>{let e=y.filter(e=>e.name.toLowerCase().includes(s.query.toLowerCase()));0===e.length?F("Product not found."):F(s.query),w(e)},[s.query]),(0,t.jsxs)("div",{className:"bg-white",children:[a?(0,t.jsx)(i.Z,{}):null,b&&(0,t.jsx)("div",{className:"fixed top-0 left-0 lg:left-auto right-0 z-50 p-4",children:(0,t.jsxs)("div",{className:"mx-auto max-w-sm bg-white rounded-lg shadow-lg flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-8 w-8 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16 10a6 6 0 11-12 0 6 6 0 0112 0zm-6 5a1 1 0 100-2 1 1 0 000 2zm0-10a1 1 0 100-2 1 1 0 000 2zM5.78 14.55a4.002 4.002 0 01-1.513-1.513A5.984 5.984 0 013 10a6 6 0 1111.268 3H13a1 1 0 00-1 1v1a1 1 0 102 0v-1a3 3 0 00-3-3h-.268A5.992 5.992 0 015.78 14.55zM10 12a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),(0,t.jsx)("div",{className:"ml-4",children:(0,t.jsx)("div",{className:"mt-2 mx-2 text-sm text-gray-500",children:N})})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("main",{className:"mx-auto max-w-7xl px-4 sm:px-6 md:px-8",children:[(0,t.jsxs)("p",{className:"text-xl font-400 text-grey-500 tracking-wider mt-2",children:["Search Query: ",T]}),(0,t.jsxs)("div",{className:"flex items-baseline justify-between border-b border-gray-200 pt-8 pb-6",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold tracking-tight text-gray-900",children:"New Arrivals"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"group inline-flex justify-center text-sm font-medium text-gray-700 hover:text-gray-900",onClick:()=>p(!g),children:["Sort",(0,t.jsx)(o,{className:"-mr-1 ml-1 h-5 w-5 flex-shrink-0 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"})]})}),(0,t.jsx)(l.u,{show:g,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,t.jsxs)("div",{className:"absolute right-0 z-10 mt-2 w-40 origin-top-right rounded-md bg-white shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none",children:[(0,t.jsx)("div",{className:"py-1",children:(0,t.jsx)("a",{href:"#",className:"font-medium text-gray-90 bg-gray-100 block px-4 py-2 text-sm",onClick:q,children:"Newest"})}),(0,t.jsx)("div",{className:"py-1",children:(0,t.jsx)("a",{href:"#",className:"font-medium text-gray-90 bg-gray-100 block px-4 py-2 text-sm",onClick:A,children:"Price: Low to High"})}),(0,t.jsx)("div",{className:"py-1",children:(0,t.jsx)("a",{href:"#",className:"font-medium text-gray-90 bg-gray-100 block px-4 py-2 text-sm",onClick:H,children:"Price: High to Low"})})]})})]}),(0,t.jsx)("button",{type:"button",className:"-m-2 ml-4 p-2 text-gray-400 hover:text-gray-500 sm:ml-6 md:hidden",onClick:()=>p(!0),children:(0,t.jsx)("span",{className:"sr-only",children:"Filters"})})]})]}),(0,t.jsxs)("section",{"aria-labelledby":"products-heading",className:"pt-6",children:[(0,t.jsx)("h2",{id:"products-heading",className:"sr-only",children:"Products"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-x-2 gap-y-10 md:grid-cols-4 md:flex",children:[(0,t.jsx)(l.u,{show:u,enter:"transition ease-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,t.jsxs)("form",{className:"",children:[(0,t.jsx)("h3",{className:"sr-only",children:"Categories"}),(0,t.jsx)("ul",{role:"list",className:" flex md:flex-col w-auto h-auto md:h-screen overflow-x-scroll border-b border-gray-200 pb-6 text-sm font-medium text-gray-900",children:C.map((e,s)=>(0,t.jsx)("li",{children:(0,t.jsxs)("div",{onClick:()=>R(e.category),className:"w-24 capitalize bold text-xl tracking-widest shadow-sm rounded-sm m-[1px]",children:[(0,t.jsx)("img",{className:"w-20 h-20 object-cover rounded-full",src:e.image}),(0,t.jsx)("p",{className:"mx-1 text-sm",children:e.category})]})},e._id))})]})}),(0,t.jsx)("div",{className:"min-h-96 md:w-[90%] md:ml-auto py-2 rounded-md border-4 border-dashed border-gray-200 h-auto flex items-center justify-center flex-wrap",children:j.slice((_-1)*z,_*z).map(e=>(0,t.jsx)("a",{onClick:()=>I(e._id),className:"flex flex-wrap cursor-pointer",children:(0,t.jsxs)("div",{className:"p-2 w-36 md:w-52 h-72 md:h-80 aspect-w-1 m-1 md:p-1 bg-milky flex flex-col justify-between hover:bg-gray-200 transition duration-300 ease-in-out transform-gpu hover:scale-105",children:[(0,t.jsx)("div",{children:(0,t.jsx)("img",{className:"ml-[70%] w-10 h-10 bg-themecolor rounded-full p-2 mt-2",src:"/img/buy.png",alt:"buy icon",onClick:()=>I(e._id)})}),(0,t.jsx)("div",{className:"w-full mb-auto",children:(0,t.jsx)("img",{className:"w-full md:w-40 m-auto",src:e.images[0],alt:"epoxy products"})}),(0,t.jsxs)("div",{className:"w-40 m-2 flex flex-col-reverse justify-end",children:[(0,t.jsx)("h2",{className:" m-0.5 ",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("span",{className:"text-sm ml-2",children:"Rs "}),(0,t.jsx)("div",{className:"flex justify-around",children:0===e.discount?(0,t.jsx)("span",{className:"text-lg mx-2 font-500 text-green-900 tracking-wider whitespace-normal",children:e.price.toLocaleString("en-IN")}):(0,t.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,t.jsx)("span",{className:"text-lg ml-2 font-500 text-green-900 tracking-wider whitespace-normal line-through",children:e.price.toLocaleString("en-IN")}),(0,t.jsx)("span",{className:"text-lg ml-2 font-500 text-green-900 tracking-wider whitespace-normal",children:(e.price-e.price/100*e.discount).toLocaleString("en-IN")})]})})]})}),(0,t.jsx)("h2",{className:"m-0.5 text-gray-600 font-700 text-sm tracking-widest capitalize mr-8",children:e.name})]})]})}))})]})]}),(0,t.jsxs)("div",{className:"flex justify-center m-4",children:[(0,t.jsx)("button",{onClick:()=>E(_-1),disabled:1===_,className:"mr-2 bg-themecolor hover:bg-blue-600 text-white px-4 py-2 rounded-md",children:"Previous"}),(0,t.jsx)("button",{onClick:()=>E(_+1),disabled:_===Math.ceil(j.length/z),className:"bg-themecolor hover:bg-blue-600 text-white px-4 py-2 rounded-md",children:"Next"})]})]})})]})};s.default=x}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3308)}),_N_E=e.O()}]);