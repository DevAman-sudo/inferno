(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[596],{7395:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/alert",function(){return a(9618)}])},2049:function(e,s,a){"use strict";var l=a(5893);a(7294);let d=()=>(0,l.jsx)("div",{className:"fixed top-0 left-0 w-screen h-screen z-20",children:(0,l.jsxs)("div",{className:"flex md:flex-row flex-xol flex-wrap justify-center items-center bg-white h-screen sm:px-6 lg:px-8",children:[(0,l.jsxs)("div",{className:"w-full sm:w-80 bg-white rounded-md shadow-xl m-3",children:[(0,l.jsx)("div",{className:"h-44 bg-gray-300 rounded-t-md animate-pulse"}),(0,l.jsxs)("div",{className:"p-5",children:[(0,l.jsx)("div",{className:"h-6 rounded-sm bg-gray-200 duration-75 animate-pulse mb-4"}),(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-1 mt-2 w-1/2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 w-1/3 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 w-2/3 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-2 rounded-sm bg-gray-300"})]})]})]}),(0,l.jsxs)("div",{className:"",children:[(0,l.jsxs)("div",{className:"flex w-screen md:w-full sm:w-96 bg-white rounded-md shadow-xl",children:[(0,l.jsx)("div",{className:"w-1/3 bg-gray-300 rounded-l-md animate-pulse"}),(0,l.jsxs)("div",{className:"p-5 w-3/4",children:[(0,l.jsx)("div",{className:"h-6 rounded-sm bg-gray-200 duration-75 animate-pulse mb-4"}),(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-1 mt-2 w-1/3 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 w-2/3 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-2 rounded-sm bg-gray-300"})]})]})]}),(0,l.jsxs)("div",{className:"flex w-screen md:w-full sm:w-96 bg-white rounded-md shadow-xl",children:[(0,l.jsx)("div",{className:"w-1/3 bg-gray-300 rounded-l-md animate-pulse"}),(0,l.jsxs)("div",{className:"p-5 w-3/4",children:[(0,l.jsx)("div",{className:"h-6 rounded-sm bg-gray-200 duration-75 animate-pulse mb-4"}),(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-1 mt-2 w-1/3 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 w-2/3 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-2 rounded-sm bg-gray-300"})]})]})]})]})]})});s.Z=d},9618:function(e,s,a){"use strict";a.r(s);var l=a(5893),d=a(7294);a(1955);var t=a(2049),m=a(6154);let r=()=>{let[e,s]=(0,d.useState)(""),[a,r]=(0,d.useState)(!1),[n,i]=(0,d.useState)(""),[c,o]=(0,d.useState)(!1);!async function(){let e=localStorage.getItem("token");if(e)try{let s=await fetch("/api/middleware/auth?token=".concat(e),{method:"POST"});s.ok||Router.push({pathname:"/login",query:{message:"Token Invalid"}})}catch(e){console.log(e),Router.push({pathname:"/login",query:{message:"Token Expired"}})}else Router.push({pathname:"/login",query:{message:"Token Invalid"}})}();let u=e=>{s(e.target.value)},x=async s=>{s.preventDefault(),r(!0);try{let s=await m.Z.post("/api/admin/alert",{alert:e});i(s.data.message),localStorage.setItem("alert",s.data.alert.alert),o(!0),r(!1)}catch(e){console.log(e),r(!1),i("Internet Connection not Stable"),o(!0)}setTimeout(()=>{o(!1)},3e3)};return(0,l.jsxs)(l.Fragment,{children:[a?(0,l.jsx)(t.Z,{}):null,c&&(0,l.jsx)("div",{className:"fixed top-0 left-0 lg:left-auto right-0 z-50 p-4",children:(0,l.jsxs)("div",{className:"mx-auto max-w-sm bg-white rounded-lg shadow-lg flex items-center",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("svg",{className:"h-8 w-8 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M16 10a6 6 0 11-12 0 6 6 0 0112 0zm-6 5a1 1 0 100-2 1 1 0 000 2zm0-10a1 1 0 100-2 1 1 0 000 2zM5.78 14.55a4.002 4.002 0 01-1.513-1.513A5.984 5.984 0 013 10a6 6 0 1111.268 3H13a1 1 0 00-1 1v1a1 1 0 102 0v-1a3 3 0 00-3-3h-.268A5.992 5.992 0 015.78 14.55zM10 12a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),(0,l.jsx)("div",{className:"ml-4",children:(0,l.jsx)("div",{className:"mt-2 mx-2 text-sm text-gray-500",children:n})})]})}),(0,l.jsxs)("form",{onSubmit:x,className:"w-full h-screen flex flex-col md:flex-row items-center max-w-sm mx-auto",children:[(0,l.jsxs)("div",{className:"md:flex md:items-center mb-6",children:[(0,l.jsx)("div",{className:"md:w-1/3",children:(0,l.jsx)("label",{htmlFor:"alert-message",className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",children:"Alert Message"})}),(0,l.jsx)("div",{className:"md:w-2/3",children:(0,l.jsx)("input",{type:"text",id:"alert-message",className:"appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 leading-tight focus:outline-none focus:border-blue-500",placeholder:"Enter alert message",value:e,onChange:u})})]}),(0,l.jsx)("div",{className:"md:flex md:justify-center",children:(0,l.jsx)("div",{className:"md:w-1/3",children:(0,l.jsx)("button",{type:"submit",className:"bg-themecolor hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Upload Alert"})})})]})]})};s.default=r}},function(e){e.O(0,[774,888,179],function(){return e(e.s=7395)}),_N_E=e.O()}]);