(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{7274:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/details",function(){return a(9486)}])},2049:function(e,s,a){"use strict";var l=a(5893);a(7294);let d=()=>(0,l.jsx)("div",{className:"fixed top-0 left-0 w-screen h-screen z-20",children:(0,l.jsxs)("div",{className:"flex md:flex-row flex-xol flex-wrap justify-center items-center bg-white h-screen sm:px-6 lg:px-8",children:[(0,l.jsxs)("div",{className:"w-full sm:w-80 bg-white rounded-md shadow-xl m-3",children:[(0,l.jsx)("div",{className:"h-44 bg-gray-300 rounded-t-md animate-pulse"}),(0,l.jsxs)("div",{className:"p-5",children:[(0,l.jsx)("div",{className:"h-6 rounded-sm bg-gray-200 duration-75 animate-pulse mb-4"}),(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-1 mt-2 w-1/2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 w-1/3 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 w-2/3 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-2 rounded-sm bg-gray-300"})]})]})]}),(0,l.jsxs)("div",{className:"",children:[(0,l.jsxs)("div",{className:"flex w-screen md:w-full sm:w-96 bg-white rounded-md shadow-xl",children:[(0,l.jsx)("div",{className:"w-1/3 bg-gray-300 rounded-l-md animate-pulse"}),(0,l.jsxs)("div",{className:"p-5 w-3/4",children:[(0,l.jsx)("div",{className:"h-6 rounded-sm bg-gray-200 duration-75 animate-pulse mb-4"}),(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-1 mt-2 w-1/3 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 w-2/3 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-2 rounded-sm bg-gray-300"})]})]})]}),(0,l.jsxs)("div",{className:"flex w-screen md:w-full sm:w-96 bg-white rounded-md shadow-xl",children:[(0,l.jsx)("div",{className:"w-1/3 bg-gray-300 rounded-l-md animate-pulse"}),(0,l.jsxs)("div",{className:"p-5 w-3/4",children:[(0,l.jsx)("div",{className:"h-6 rounded-sm bg-gray-200 duration-75 animate-pulse mb-4"}),(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-1 mt-2 w-1/3 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 w-2/3 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,l.jsx)("div",{className:"h-2 rounded-sm bg-gray-300"})]})]})]})]})]})});s.Z=d},9486:function(e,s,a){"use strict";a.r(s);var l=a(5893),d=a(7294),i=a(1163),t=a.n(i),n=a(6154),r=a(2049),m=a(1955);a(2379),a(3352),a(1082),a(1669),a(6797);var c=a(2782);a(5675);let o=()=>{let e=(0,d.useContext)(c.Z),s=(0,i.useRouter)(),[a,o]=(0,d.useState)(!1),[x,u]=(0,d.useState)(""),[h,g]=(0,d.useState)(!1),[j,v]=(0,d.useState)([]),[N,b]=(0,d.useState)(1),[p,w]=(0,d.useState)(""),[f,y]=(0,d.useState)([]),[_,k]=(0,d.useState)(""),S=m.Z.get("token"),C=m.Z.get("user_id"),z=()=>{N>1?b(N-1):b(1)},P=()=>{b(N+1)},E=async()=>{o(!0);try{let e=await n.Z.get("/api/admin/products"),s=e.data,a=s.find(e=>e._id==t().query.ids),l=a.price-a.price/100*a.discount,d={...a,discountPrice:l};w(l),a.discount>0?(v(d),y(d.images),k(d.images[0])):(v(a),y(a.images),k(a.images[0])),o(!1)}catch(e){o(!1),u("Something Went Wrong. "),g(!0)}setTimeout(()=>{g(!1)},3e3)};(0,d.useEffect)(()=>{E()},[]);let Z=async()=>{if(o(!0),S||C){try{let a=s.query.ids,l=[...e.productData,{productId:a,num:N,disPrice:p}];e.setProductData(l),s.push("/cart?message=Items added to Cart"),o(!1)}catch(e){console.log(e),o(!1),u("Something Went Wrong. "),g(!0)}setTimeout(()=>{g(!1)},3e3)}else s.push("/login?message=Please Log In")};return(0,l.jsxs)("div",{children:[a?(0,l.jsx)(r.Z,{}):null,h&&(0,l.jsx)("div",{className:"fixed top-0 left-0 lg:left-auto right-0 z-50 p-4",children:(0,l.jsxs)("div",{className:"mx-auto max-w-sm bg-white rounded-lg shadow-lg flex items-center",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("svg",{className:"h-8 w-8 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M16 10a6 6 0 11-12 0 6 6 0 0112 0zm-6 5a1 1 0 100-2 1 1 0 000 2zm0-10a1 1 0 100-2 1 1 0 000 2zM5.78 14.55a4.002 4.002 0 01-1.513-1.513A5.984 5.984 0 013 10a6 6 0 1111.268 3H13a1 1 0 00-1 1v1a1 1 0 102 0v-1a3 3 0 00-3-3h-.268A5.992 5.992 0 015.78 14.55zM10 12a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),(0,l.jsx)("div",{className:"ml-4",children:(0,l.jsx)("div",{className:"mt-2 mx-2 text-sm text-gray-500",children:x})})]})}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"min-w-screen min-h-screen bg-themecolor flex items-center p-5 md:p-10 overflow-hidden relative",children:(0,l.jsx)("div",{className:"w-full max-w-6xl rounded bg-white shadow-xl p-10 md:p-20 mx-auto text-gray-800 relative md:text-left",children:(0,l.jsxs)("div",{className:"md:flex items-center -mx-10",children:[(0,l.jsx)("div",{className:"w-full md:w-1/2 px-10 mb-10 md:mb-0",children:(0,l.jsxs)("div",{className:"relative flex flex-col items-center justify-center",children:[(0,l.jsx)("img",{className:" w-96 h-96 object-contain",src:_}),(0,l.jsx)("div",{className:"flex justify-center ",children:f.map((e,s)=>(0,l.jsx)("img",{className:"w-14 h-14 md:w-24 md:h-24 mx-1 object-contain",src:e,onClick:()=>k(e)},s))}),(0,l.jsx)("div",{className:"border-4 border-themecolor absolute top-10 bottom-10 left-10 right-10 z-[-1]"})]})}),(0,l.jsxs)("div",{className:"w-full md:w-1/2 px-10",children:[(0,l.jsxs)("div",{className:"mb-10",children:[(0,l.jsx)("h1",{className:"font-bold uppercase text-2xl mb-5",children:j.name}),(0,l.jsx)("p",{className:"text-sm",children:j.description})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"inline-block align-bottom mr-5",children:[(0,l.jsx)("span",{className:"text-2xl leading-none align-baseline",children:"Rs"}),(0,l.jsxs)("div",{className:"flex flex-col",children:[j.discountPrice?(0,l.jsx)("span",{className:"font-bold text-5xl leading-none align-baseline line-through",children:j.price}):(0,l.jsx)("span",{className:"font-bold text-5xl leading-none align-baseline",children:j.price}),j.discountPrice?(0,l.jsx)("span",{className:"font-bold text-5xl leading-none align-baseline",children:j.discountPrice}):null]})]}),(0,l.jsxs)("div",{className:"flex items-center my-4 w-12 h-auto border-gray-900",children:[(0,l.jsxs)("span",{className:"cursor-pointer rounded-l bg-gray-100 py-1 px-3.5 duration-100 hover:bg-themecolor hover:text-blue-50",onClick:z,children:[" ","-"," "]}),(0,l.jsx)("input",{className:"h-8 w-14 font-bold border bg-white text-center text-xs outline-none m-auto flex items-center appearance-none rounded",type:"number",value:N,min:"1"}),(0,l.jsxs)("span",{className:"cursor-pointer rounded-r bg-gray-100 py-1 px-3 duration-100 hover:bg-themecolor hover:text-blue-50",onClick:P,children:[" ","+"," "]})]}),(0,l.jsx)("div",{className:"inline-block align-bottom",children:(0,l.jsxs)("button",{className:"bg-themecolor text-white hover:text-gray-300 rounded-full px-10 py-2 font-semibold",onClick:Z,children:[(0,l.jsx)("i",{className:"mdi mdi-cart -ml-2 mr-2"})," BUY NOW"]})})]})]})]})})})})]})};s.default=o}},function(e){e.O(0,[675,79,774,888,179],function(){return e(e.s=7274)}),_N_E=e.O()}]);