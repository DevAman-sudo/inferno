(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{3665:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return t(6751)}])},6751:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var a=t(5893),l=t(7294),r=t(1163),n=t.n(r),i=t(1955);let c=()=>{!async function(){let e=i.Z.get("token"),s=i.Z.get("user_id");if(e)try{let t=await fetch("/api/middleware/auth?token=".concat(e),{method:"POST"});t.ok&&n().push({pathname:"/profile/".concat(s)})}catch(e){n().push({pathname:"/login",query:{message:"Token Expired, Please LogIn"}})}}();let[e,s]=(0,l.useState)(""),[t,r]=(0,l.useState)(""),[c,o]=(0,l.useState)(""),[d,m]=(0,l.useState)({}),[x,h]=(0,l.useState)(""),[u,f]=(0,l.useState)(!1),[p,j]=(0,l.useState)(""),[v,w]=(0,l.useState)(!1),g=()=>{let s={};return e.trim()||(s.name="Name is required"),t.trim()?/\S+@\S+\.\S+/.test(t)||(s.email="Email is invalid"):s.email="Email is required",c.trim()?c.length<6&&(s.password="Password should be at least 6 characters long"):s.password="Password is required",m(s),0===Object.keys(s).length},N=async s=>{if(s.preventDefault(),g()){f(!0);try{await fetch("/api/users/register",{method:"POST",body:JSON.stringify({name:e,email:t,password:c})}).then(e=>e.json()).then(s=>{i.Z.set("verification_token",s.token),i.Z.set("user_email",t),i.Z.set("user_name",e),i.Z.set("user_key",s.key),f(!1),j(s.message),w(!0)}).catch(e=>{f(!1),j("Something went Wrong"),w(!0)})}catch(e){f(!1),j("Something went Wrong"),w(!0)}}setTimeout(()=>{w(!1)},9e3)};return(0,a.jsxs)("div",{children:[v&&(0,a.jsx)("div",{className:"fixed top-0 left-0 lg:left-auto right-0 z-50 p-4",children:(0,a.jsxs)("div",{className:"mx-auto max-w-sm bg-white rounded-lg shadow-lg flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-8 w-8 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16 10a6 6 0 11-12 0 6 6 0 0112 0zm-6 5a1 1 0 100-2 1 1 0 000 2zm0-10a1 1 0 100-2 1 1 0 000 2zM5.78 14.55a4.002 4.002 0 01-1.513-1.513A5.984 5.984 0 013 10a6 6 0 1111.268 3H13a1 1 0 00-1 1v1a1 1 0 102 0v-1a3 3 0 00-3-3h-.268A5.992 5.992 0 015.78 14.55zM10 12a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),(0,a.jsx)("div",{className:"ml-4",children:(0,a.jsx)("div",{className:"mt-2 mx-2 text-sm text-gray-500",children:p})})]})}),(0,a.jsx)("div",{className:"md:min-h-screen flex flex-col md:items-center md:justify-center bg-milky",children:(0,a.jsxs)("div",{className:"flex flex-col bg-white shadow-md px-4 sm:px-6 md:px-8 lg:px-10 py-8 rounded-md w-full max-w-md",children:[(0,a.jsx)("div",{className:"font-medium self-center text-xl sm:text-2xl uppercase text-gray-800",children:"Create A New Account"}),(0,a.jsx)("div",{className:"mt-10",children:(0,a.jsxs)("form",{onSubmit:N,noValidate:!0,children:[(0,a.jsxs)("div",{className:"flex flex-col mb-6",children:[(0,a.jsx)("label",{htmlFor:"username",className:"mb-1 text-xs sm:text-sm tracking-wide text-gray-600",children:"Username:"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center left-0 top-0 h-full w-10 text-gray-400",children:(0,a.jsx)("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsx)("input",{className:"text-sm sm:text-base placeholder-gray-500 p-4 rounded-md border border-gray-400 w-full py-2 focus:outline-none focus:border-blue-400",type:"text",value:e,onChange:e=>s(e.target.value),placeholder:"Name",required:!0}),d.name&&(0,a.jsx)("span",{className:"text-sm text-rose-600 tracking-wider",children:d.name})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col mb-6",children:[(0,a.jsx)("label",{htmlFor:"email",className:"mb-1 text-xs sm:text-sm tracking-wide text-gray-600",children:"E-Mail Address:"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center left-0 top-0 h-full w-10 text-gray-400",children:(0,a.jsx)("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsx)("input",{className:"text-sm sm:text-base placeholder-gray-500 p-4 rounded-md border border-gray-400 w-full py-2 focus:outline-none focus:border-blue-400",type:"email",value:t,onChange:e=>r(e.target.value),placeholder:"Email",required:!0}),d.email&&(0,a.jsx)("span",{className:"text-sm text-rose-600 tracking-wider",children:d.email})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col mb-6",children:[(0,a.jsx)("label",{htmlFor:"password",className:"mb-1 text-xs sm:text-sm tracking-wide text-gray-600",children:"Password:"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center left-0 top-0 h-full w-10 text-gray-400",children:(0,a.jsx)("span",{children:(0,a.jsx)("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})}),(0,a.jsxs)("div",{className:"flex flex-col w-full",children:[(0,a.jsx)("input",{className:"text-sm sm:text-base placeholder-gray-500 p-4 rounded-md border border-gray-400 w-full py-2 focus:outline-none focus:border-blue-400",type:"password",value:c,onChange:e=>o(e.target.value),placeholder:"Password"}),d.password&&(0,a.jsx)("span",{className:"text-sm text-rose-600 tracking-wider",children:d.password})]})]})]}),(0,a.jsx)("div",{className:"flex items-center mb-6 -mt-4"}),(0,a.jsx)("div",{className:"flex w-full",children:(0,a.jsx)("button",{type:"submit",className:"flex items-center justify-center focus:outline-none text-white text-sm sm:text-base bg-themecolor rounded py-2 w-full transition duration-150 ease-in",children:u?(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3 tracking-widest",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm12 0a8 8 0 100-16 8 8 0 000 16z"})]}):"REGISTER"})})]})}),x&&(0,a.jsx)("div",{className:"error my-2",children:(0,a.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[(0,a.jsx)("strong",{className:"font-bold",children:"Error: "}),(0,a.jsx)("span",{className:"block sm:inline",children:x})]})}),(0,a.jsx)("div",{className:"flex justify-center items-center mt-6",children:(0,a.jsxs)("a",{href:"/login",target:"_blank",className:"inline-flex items-center font-bold text-blue-500 hover:text-blue-700 text-xs text-center",children:[(0,a.jsx)("span",{children:(0,a.jsx)("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),(0,a.jsx)("span",{className:"ml-2",children:"I have an account?"})]})})]})})]})},o=()=>(0,a.jsx)("div",{children:(0,a.jsx)(c,{})});var d=o}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3665)}),_N_E=e.O()}]);