(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{8086:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return a(9081)}])},2049:function(e,s,a){"use strict";var t=a(5893);a(7294);let l=()=>(0,t.jsx)("div",{className:"fixed top-0 left-0 w-screen h-screen z-20",children:(0,t.jsxs)("div",{className:"flex md:flex-row flex-xol flex-wrap justify-center items-center bg-white h-screen sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"w-full sm:w-80 bg-white rounded-md shadow-xl m-3",children:[(0,t.jsx)("div",{className:"h-44 bg-gray-300 rounded-t-md animate-pulse"}),(0,t.jsxs)("div",{className:"p-5",children:[(0,t.jsx)("div",{className:"h-6 rounded-sm bg-gray-200 duration-75 animate-pulse mb-4"}),(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-1 mt-2 w-1/2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 w-1/3 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 w-2/3 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-2 rounded-sm bg-gray-300"})]})]})]}),(0,t.jsxs)("div",{className:"",children:[(0,t.jsxs)("div",{className:"flex w-screen md:w-full sm:w-96 bg-white rounded-md shadow-xl",children:[(0,t.jsx)("div",{className:"w-1/3 bg-gray-300 rounded-l-md animate-pulse"}),(0,t.jsxs)("div",{className:"p-5 w-3/4",children:[(0,t.jsx)("div",{className:"h-6 rounded-sm bg-gray-200 duration-75 animate-pulse mb-4"}),(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-1 mt-2 w-1/3 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 w-2/3 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-2 rounded-sm bg-gray-300"})]})]})]}),(0,t.jsxs)("div",{className:"flex w-screen md:w-full sm:w-96 bg-white rounded-md shadow-xl",children:[(0,t.jsx)("div",{className:"w-1/3 bg-gray-300 rounded-l-md animate-pulse"}),(0,t.jsxs)("div",{className:"p-5 w-3/4",children:[(0,t.jsx)("div",{className:"h-6 rounded-sm bg-gray-200 duration-75 animate-pulse mb-4"}),(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-1 mt-2 w-1/3 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 w-2/3 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-1 mt-2 rounded-sm bg-gray-300"}),(0,t.jsx)("div",{className:"h-2 rounded-sm bg-gray-300"})]})]})]})]})]})});s.Z=l},9081:function(e,s,a){"use strict";a.r(s);var t=a(5893),l=a(7294),d=a(1163),r=a(6154),m=a(2782),i=a(2049);a(1955);let n=()=>{let e=(0,l.useContext)(m.Z),s=(0,d.useRouter)(),[a,n]=(0,l.useState)(!1),[c,o]=(0,l.useState)(""),[x,u]=(0,l.useState)(!1),[h,g]=(0,l.useState)([]),[N,j]=(0,l.useState)(0),[p,v]=(0,l.useState)(0);(0,l.useEffect)(()=>{let s=async()=>{try{let e=await r.Z.get("/api/admin/shipping");v(e.data.data[0].shipping)}catch(e){o("Internet Connection not Stable. "),u(!0)}setTimeout(()=>{u(!1)},3e3)};s();let a=async()=>{n(!0);try{let s=await r.Z.get("/api/admin/products"),a=e.productData.map(e=>e.productId),t=s.data.filter(e=>a.includes(e._id)),l=JSON.parse(localStorage.getItem("productData")),d=t.map(e=>{let s=l.find(s=>s.productId===e._id),a=s?s.num:0;return{...e,num:a}});localStorage.setItem("products",JSON.stringify(d));let m=JSON.parse(localStorage.getItem("products"));g(m||[]),function(){let e=JSON.parse(localStorage.getItem("products")),s=e.reduce((e,s)=>{let a=s.price*s.num;if(s.discount){let e=a*(s.discount/100);a-=e}return e+a},0);j(s)}(),n(!1)}catch(e){console.log(e),o("Internet connection not stable."),u(!0),n(!1)}setTimeout(()=>{u(!1)},3e3)};a()},[e.productData]);let w=async()=>{s.push("/gateway")};return 0===e.cartNumber?(0,t.jsxs)("div",{children:[a?(0,t.jsx)(i.Z,{}):null,x&&(0,t.jsx)("div",{className:"fixed top-0 left-0 lg:left-auto right-0 z-50 p-4",children:(0,t.jsxs)("div",{className:"mx-auto max-w-sm bg-white rounded-lg shadow-lg flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-8 w-8 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16 10a6 6 0 11-12 0 6 6 0 0112 0zm-6 5a1 1 0 100-2 1 1 0 000 2zm0-10a1 1 0 100-2 1 1 0 000 2zM5.78 14.55a4.002 4.002 0 01-1.513-1.513A5.984 5.984 0 013 10a6 6 0 1111.268 3H13a1 1 0 00-1 1v1a1 1 0 102 0v-1a3 3 0 00-3-3h-.268A5.992 5.992 0 015.78 14.55zM10 12a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),(0,t.jsx)("div",{className:"ml-4",children:(0,t.jsx)("div",{className:"mt-2 mx-2 text-sm text-gray-500",children:c})})]})}),(0,t.jsx)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,t.jsxs)("div",{className:"max-w-lg mx-auto",children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-gray-800 mb-2",children:"Your cart is empty"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Looks like you haven't added anything to your cart yet. Browse our products and find something you like."}),(0,t.jsx)("a",{href:"/products",className:"bg-gray-800 hover:bg-gray-900 text-white py-2 px-4 rounded-md text-sm inline-block",children:"Start Shopping"})]})})]}):(0,t.jsxs)("div",{children:[a?(0,t.jsx)(i.Z,{}):null,x&&(0,t.jsx)("div",{className:"fixed top-0 left-0 lg:left-auto right-0 z-50 p-4",children:(0,t.jsxs)("div",{className:"mx-auto max-w-sm bg-white rounded-lg shadow-lg flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-8 w-8 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16 10a6 6 0 11-12 0 6 6 0 0112 0zm-6 5a1 1 0 100-2 1 1 0 000 2zm0-10a1 1 0 100-2 1 1 0 000 2zM5.78 14.55a4.002 4.002 0 01-1.513-1.513A5.984 5.984 0 013 10a6 6 0 1111.268 3H13a1 1 0 00-1 1v1a1 1 0 102 0v-1a3 3 0 00-3-3h-.268A5.992 5.992 0 015.78 14.55zM10 12a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),(0,t.jsx)("div",{className:"ml-4",children:(0,t.jsx)("div",{className:"mt-2 mx-2 text-sm text-gray-500",children:c})})]})}),(0,t.jsxs)("div",{className:"min-h-screen h-auto bg-gray-100 py-10",children:[(0,t.jsx)("h1",{className:"mb-10 text-center text-2xl font-bold",children:"Cart Items"}),(0,t.jsxs)("div",{className:"mx-auto max-w-5xl justify-center px-6 md:flex md:space-x-6 xl:px-0",children:[(0,t.jsx)("div",{className:"rounded-md md:w-2/3",children:h.reverse().map(s=>(0,t.jsxs)("div",{className:"justify-between mb-6 rounded-md bg-white p-6 shadow-md sm:flex sm:justify-start",children:[(0,t.jsx)("img",{src:s.image,alt:"product-image",className:"w-full rounded-md sm:w-40"}),(0,t.jsxs)("div",{className:"sm:ml-4 sm:flex sm:w-full sm:justify-between",children:[(0,t.jsx)("div",{className:"mt-5 sm:mt-0",children:(0,t.jsx)("h2",{className:"text-md font-bold text-gray-900",children:s.name})}),(0,t.jsxs)("div",{className:"mt-4 flex justify-between sm:space-y-6 sm:mt-0 sm:block sm:space-x-6",children:[(0,t.jsx)("div",{className:"flex items-center border-gray-100",children:(0,t.jsx)("input",{className:"h-8 w-8 border bg-white text-center text-xs outline-none m-auto",type:"number",value:s.num})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[0===s.discount?(0,t.jsxs)("p",{className:"text-sm",children:["Rs ",(s.price*s.num).toLocaleString("en-IN")]}):(0,t.jsxs)("p",{className:"text-sm",children:["Rs"," ",(s.price/100*s.discount*s.num).toLocaleString("en-IN")]}),(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-5 w-5 cursor-pointer duration-150 hover:text-red-500",onClick:()=>(function(s){let a=JSON.parse(localStorage.getItem("productData")),t=a.filter(e=>e.productId!==s);localStorage.setItem("productData",JSON.stringify(t)),localStorage.setItem("cartNumber",t.length);let l=localStorage.getItem("cartNumber");e.setCartNumber(l),location.reload()})(s._id),children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]})]})]})]}))}),(0,t.jsxs)("div",{className:"mt-6 h-full rounded-md border bg-white p-6 shadow-md md:mt-0 md:w-1/3",children:[(0,t.jsxs)("div",{className:"mb-2 flex justify-between",children:[(0,t.jsx)("p",{className:"text-gray-700",children:"Subtotal"}),(0,t.jsxs)("p",{className:"text-gray-700",children:["Rs ",N.toLocaleString("en-IN")]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("p",{className:"text-gray-700",children:"Shipping"}),(0,t.jsxs)("p",{className:"text-gray-700",children:["Rs ",p.toLocaleString("en-IN")]})]}),(0,t.jsx)("hr",{className:"my-4"}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("p",{className:"text-md font-bold",children:"Total"}),(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("p",{className:"mb-1 text-md font-bold",children:["Rs ",(N+p).toLocaleString("en-IN")]})})]}),(0,t.jsx)("button",{className:"mt-6 w-full rounded-md bg-themecolor py-1.5 font-medium text-blue-50 hover:bg-blue-600",onClick:w,children:"Check out"})]})]})]})]})};s.default=n}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8086)}),_N_E=e.O()}]);