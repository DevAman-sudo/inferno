(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{4754:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login/verify",function(){return t(7859)}])},7859:function(e,s,t){"use strict";t.r(s);var l=t(5893),a=t(7294),r=t(1955),n=t(1163),i=t(6154);s.default=function(){let[e,s]=(0,a.useState)(""),[t,o]=(0,a.useState)({}),[c,d]=(0,a.useState)(""),[m,x]=(0,a.useState)(!1),[h,u]=(0,a.useState)(""),[f,p]=(0,a.useState)(!1),w=(0,n.useRouter)(),v=w.query.token,g=()=>{let s={};return e.trim()?e.length<6&&(s.password="Password should be at least 6 characters long"):s.password="Password is required",o(s),0===Object.keys(s).length},j=async s=>{if(s.preventDefault(),g()){x(!0);let s=r.Z.get("fp_token"),t=r.Z.get("user_email");if(s===v)try{let s=await i.Z.post("/api/users/update-password",{password:e,email:t}),l=s.data;u(l.message),p(!0),x(!1),w.push("/login?message=".concat(l.message))}catch(e){console.log(e),d("Something went wrong."),x(!1)}else u("Token Invalid"),p(!0),x(!1);setTimeout(()=>{p(!1),d("")},9e3)}};return(0,l.jsxs)("div",{children:[f&&(0,l.jsx)("div",{className:"fixed top-0 left-0 lg:left-auto right-0 z-50 p-4",children:(0,l.jsxs)("div",{className:"mx-auto max-w-sm bg-white rounded-lg shadow-lg flex items-center",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("svg",{className:"h-8 w-8 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M16 10a6 6 0 11-12 0 6 6 0 0112 0zm-6 5a1 1 0 100-2 1 1 0 000 2zm0-10a1 1 0 100-2 1 1 0 000 2zM5.78 14.55a4.002 4.002 0 01-1.513-1.513A5.984 5.984 0 013 10a6 6 0 1111.268 3H13a1 1 0 00-1 1v1a1 1 0 102 0v-1a3 3 0 00-3-3h-.268A5.992 5.992 0 015.78 14.55zM10 12a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),(0,l.jsx)("div",{className:"ml-4",children:(0,l.jsx)("div",{className:"mt-2 mx-2 text-sm text-gray-500",children:h})})]})}),(0,l.jsx)("div",{className:"md:min-h-screen flex flex-col md:items-center md:justify-center bg-milky",children:(0,l.jsxs)("div",{className:"flex flex-col bg-white shadow-md px-4 sm:px-6 md:px-8 lg:px-10 py-8 rounded-md w-full max-w-md",children:[(0,l.jsx)("div",{className:"font-medium self-center text-xl sm:text-2xl uppercase text-gray-800",children:"Enter Your New Password"}),(0,l.jsx)("div",{className:"mt-10",children:(0,l.jsxs)("form",{onSubmit:j,noValidate:!0,children:[(0,l.jsxs)("div",{className:"flex flex-col mb-6",children:[(0,l.jsx)("label",{htmlFor:"password",className:"mb-1 text-xs sm:text-sm tracking-wide text-gray-600",children:"Password:"}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"inline-flex items-center justify-center left-0 top-0 h-full w-10 text-gray-400",children:(0,l.jsx)("span",{children:(0,l.jsx)("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})}),(0,l.jsxs)("div",{className:"flex flex-col w-full",children:[(0,l.jsx)("input",{className:"text-sm sm:text-base placeholder-gray-500 p-4 rounded-md border border-gray-400 w-full py-2 focus:outline-none focus:border-blue-400",type:"password",value:e,onChange:e=>s(e.target.value),placeholder:"Password"}),t.password&&(0,l.jsx)("span",{className:"text-sm text-rose-600 tracking-wider",children:t.password})]})]})]}),(0,l.jsx)("div",{className:"flex items-center mb-6 -mt-4",children:(0,l.jsx)("div",{className:"flex ml-auto",children:(0,l.jsx)("a",{href:"/login",className:"inline-flex text-xs sm:text-sm text-blue-500 hover:text-blue-700",children:"Back to Login?"})})}),(0,l.jsx)("div",{className:"flex w-full",children:(0,l.jsx)("button",{type:"submit",className:"flex items-center justify-center focus:outline-none text-white text-sm sm:text-base bg-themecolor rounded py-2 w-full transition duration-150 ease-in",children:m?(0,l.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3 tracking-widest",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm12 0a8 8 0 100-16 8 8 0 000 16z"})]}):"Submit"})})]})}),(0,l.jsx)("div",{className:"flex justify-center items-center mt-6",children:(0,l.jsxs)("a",{href:"/login",target:"_blank",className:"inline-flex items-center font-bold text-blue-500 hover:text-blue-700 text-xs text-center",children:[(0,l.jsx)("span",{children:(0,l.jsx)("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),(0,l.jsx)("span",{className:"ml-2",children:"I have an account?"})]})}),c&&(0,l.jsx)("div",{className:"error my-2",children:(0,l.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[(0,l.jsx)("strong",{className:"font-bold",children:"Error: "}),(0,l.jsx)("span",{className:"block sm:inline",children:c})]})})]})})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4754)}),_N_E=e.O()}]);